<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <h:head>
        <!-- Bootstrap core CSS -->
        <link href="resources/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>

        <!-- Custom styles for this template -->
        <link href="resources/css/modern-business.css" rel="stylesheet"/>
        
        <title>Movie Fests</title>
        
    </h:head>
    
    <h:body>  
        
        <ui:insert name = "header" >
           <ui:include src = "templates/header.xhtml" />
        </ui:insert> 
        
        
        
        
        <br/>
        <br/>
        <br/>
        <div class="container text-center">
            <div class="w-100"></div>
            
            <div class="row"/>
            <div class="row-fluid">
              <div class="offset-4 col-4">

                  <h:form class="form-signin" id="form_content">

                    <h1 class="h3 mb-3 font-weight-normal">Change password</h1>
                    <br/>                   
                      
                    <label>Username</label>
                    <h:inputText class="form-control" value="#{loginController.forgotUsername}"/>
                    <br/>
                    <label>Old password</label>
                    <h:inputSecret class="form-control" value="#{loginController.forgotPassword}"/>
                    <br/>
                    <label>New password</label>
                    <h:inputSecret class="form-control" value="#{loginController.forgotNewPassword}"/>
                    <br/>
                    <h:outputText class="text-danger" value="#{loginController.passErr}" id="errorMessage"/>
                    <br/>
                    <br/>
                    <h:commandButton class="btn btn-lg btn-primary btn-block" action="#{loginController.changePass()}" value="Change">
                        <f:ajax execute="form_content" render="errorMessage"/>
                    </h:commandButton>
                    <br/>
                    <h:link class="mt-5 mb-3 text-muted" outcome="login">Back</h:link>
                  </h:form>

                  
                  
              </div>   
            </div>
        </div>
        
        
        <ui:insert name = "foother" >
           <ui:include src = "templates/foother.xhtml" />
        </ui:insert> 

    </h:body>
</html>